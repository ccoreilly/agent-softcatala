{"version":3,"sources":["../../src/types/AssistantTypes.ts"],"sourcesContent":["import { LanguageModelV1LogProbs } from \"@ai-sdk/provider\";\nimport type { ReactNode } from \"react\";\nimport { CompleteAttachment } from \"./AttachmentTypes\";\n\nexport type MessageRole = \"user\" | \"assistant\" | \"system\";\n\nexport type TextContentPart = {\n  type: \"text\";\n  text: string;\n};\n\nexport type ImageContentPart = {\n  type: \"image\";\n  image: string;\n};\n\nexport type Unstable_AudioContentPart = {\n  type: \"audio\";\n  audio: {\n    data: string;\n    format: \"mp3\" | \"wav\";\n  };\n};\n\nexport type UIContentPart = {\n  type: \"ui\";\n  display: ReactNode;\n};\n\nexport type CoreToolCallContentPart<\n  TArgs extends Record<string, unknown> = Record<string | number, unknown>,\n  TResult = unknown,\n> = {\n  type: \"tool-call\";\n  toolCallId: string;\n  toolName: string;\n  args: TArgs;\n  result?: TResult | undefined;\n  isError?: boolean | undefined;\n};\n\nexport type ToolCallContentPart<\n  TArgs extends Record<string, unknown> = Record<string | number, unknown>,\n  TResult = unknown,\n> = CoreToolCallContentPart<TArgs, TResult> & {\n  argsText: string;\n};\n\nexport type ThreadUserContentPart =\n  | TextContentPart\n  | ImageContentPart\n  | Unstable_AudioContentPart\n  | UIContentPart;\n\nexport type ThreadAssistantContentPart =\n  | TextContentPart\n  | ToolCallContentPart\n  | UIContentPart;\n\ntype MessageCommonProps = {\n  id: string;\n  createdAt: Date;\n};\n\n/**\n * @deprecated Use `ThreadStep` instead. This type will be removed in v0.6.\n */\nexport type ThreadRoundtrip = ThreadStep;\n\nexport type ThreadStep = {\n  /**\n   * @deprecated This field will be removed in v0.6. Submit feedback if you need this functionality.\n   */\n  logprobs?: LanguageModelV1LogProbs | undefined;\n  usage?:\n    | {\n        promptTokens: number;\n        completionTokens: number;\n      }\n    | undefined;\n};\n\nexport type ContentPartStatus =\n  | {\n      type: \"running\";\n    }\n  | {\n      type: \"complete\";\n    }\n  | {\n      type: \"incomplete\";\n      reason: \"cancelled\" | \"length\" | \"content-filter\" | \"other\" | \"error\";\n      error?: unknown;\n    };\n\nexport type ToolCallContentPartStatus =\n  | {\n      type: \"requires-action\";\n      reason: \"tool-calls\";\n    }\n  | ContentPartStatus;\n\nexport type MessageStatus =\n  | {\n      type: \"running\";\n    }\n  | {\n      type: \"requires-action\";\n      reason: \"tool-calls\";\n    }\n  | {\n      type: \"complete\";\n      reason: \"stop\" | \"unknown\";\n    }\n  | {\n      type: \"incomplete\";\n      reason:\n        | \"cancelled\"\n        | \"tool-calls\"\n        | \"length\"\n        | \"content-filter\"\n        | \"other\"\n        | \"error\";\n      error?: unknown;\n    };\n\nexport type ThreadSystemMessage = MessageCommonProps & {\n  role: \"system\";\n  content: [TextContentPart];\n};\n\nexport type ThreadUserMessage = MessageCommonProps & {\n  role: \"user\";\n  content: ThreadUserContentPart[];\n  attachments: readonly CompleteAttachment[];\n  // TODO metadata\n};\n\nexport type ThreadAssistantMessage = MessageCommonProps & {\n  role: \"assistant\";\n  content: ThreadAssistantContentPart[];\n  status: MessageStatus;\n  /**\n   * @deprecated Use `metadata.steps` instead.\n   */\n  roundtrips?: ThreadStep[] | undefined;\n  metadata?: {\n    /**\n     * @deprecated Use `steps` instead. This field will be removed in v0.6.\n     */\n    roundtrips?: ThreadStep[] | undefined;\n    steps?: ThreadStep[] | undefined;\n    custom?: Record<string, unknown> | undefined;\n  };\n};\n\nexport type AppendMessage = CoreMessage & {\n  parentId: string | null;\n  // TODO make required in the next major version\n  attachments?: readonly CompleteAttachment[] | undefined;\n  startRun?: boolean | undefined;\n};\n\ntype BaseThreadMessage = {\n  status?: ThreadAssistantMessage[\"status\"];\n  metadata?: ThreadAssistantMessage[\"metadata\"];\n  attachments?: ThreadUserMessage[\"attachments\"];\n};\n\nexport type ThreadMessage = BaseThreadMessage &\n  (ThreadSystemMessage | ThreadUserMessage | ThreadAssistantMessage);\n\n/** Core Message Types (without UI content parts) */\n\nexport type CoreUserContentPart =\n  | TextContentPart\n  | ImageContentPart\n  | Unstable_AudioContentPart;\nexport type CoreAssistantContentPart =\n  | TextContentPart\n  | CoreToolCallContentPart;\n\nexport type CoreSystemMessage = {\n  role: \"system\";\n  content: [TextContentPart];\n};\n\nexport type CoreUserMessage = {\n  role: \"user\";\n  content: CoreUserContentPart[];\n};\n\nexport type CoreAssistantMessage = {\n  role: \"assistant\";\n  content: CoreAssistantContentPart[];\n};\n\nexport type CoreMessage =\n  | CoreSystemMessage\n  | CoreUserMessage\n  | CoreAssistantMessage;\n"],"mappings":";;;;;;;;;;;;;;;;AAAA;AAAA;","names":[]}