{"version":3,"sources":["../../src/ui/user-message.tsx"],"sourcesContent":["\"use client\";\n\nimport { ComponentPropsWithoutRef, forwardRef, type FC } from \"react\";\n\nimport BranchPicker from \"./branch-picker\";\nimport { withDefaults } from \"./utils/withDefaults\";\nimport UserActionBar from \"./user-action-bar\";\nimport ContentPart from \"./content-part\";\nimport { MessagePrimitive } from \"../primitives\";\nimport Attachment from \"./attachment\";\n\nconst UserMessage: FC = () => {\n  return (\n    <UserMessageRoot>\n      <UserMessageAttachments />\n      {/* TODO this is temporary until we place the UserActionBar in a better place */}\n      <MessagePrimitive.If hasContent>\n        <UserActionBar />\n        <UserMessageContent />\n      </MessagePrimitive.If>\n      <BranchPicker />\n    </UserMessageRoot>\n  );\n};\n\nUserMessage.displayName = \"UserMessage\";\n\nconst UserMessageRoot = withDefaults(MessagePrimitive.Root, {\n  className: \"aui-user-message-root\",\n});\n\nUserMessageRoot.displayName = \"UserMessageRoot\";\n\nconst UserMessageContentWrapper = withDefaults(\"div\", {\n  className: \"aui-user-message-content\",\n});\n\n/**\n * @deprecated Use `UserMessage.Content.Props` instead. This will be removed in 0.6.\n */\nexport type UserMessageContentProps = UserMessageContent.Props;\n\nnamespace UserMessageContent {\n  export type Element = HTMLDivElement;\n  export type Props = MessagePrimitive.Content.Props &\n    ComponentPropsWithoutRef<\"div\">;\n}\n\nconst UserMessageContent = forwardRef<\n  UserMessageContent.Element,\n  UserMessageContent.Props\n>(({ components, ...props }, ref) => {\n  return (\n    <UserMessageContentWrapper {...props} ref={ref}>\n      <MessagePrimitive.Content\n        components={{\n          ...components,\n          Text: components?.Text ?? ContentPart.Text,\n        }}\n      />\n    </UserMessageContentWrapper>\n  );\n});\n\nUserMessageContent.displayName = \"UserMessageContent\";\n\nconst UserMessageAttachmentsContainer = withDefaults(\"div\", {\n  className: \"aui-user-message-attachments\",\n});\n\n/**\n * @deprecated Use `UserMessage.Attachments.Props` instead. This will be removed in 0.6.\n */\nexport type UserMessageAttachmentsProps = UserMessageAttachments.Props;\n\nnamespace UserMessageAttachments {\n  export type Props = Partial<MessagePrimitive.Attachments.Props>;\n}\n\nconst UserMessageAttachments: FC<UserMessageAttachmentsProps> = ({\n  components,\n}) => {\n  return (\n    <MessagePrimitive.If hasAttachments>\n      <UserMessageAttachmentsContainer>\n        <MessagePrimitive.Attachments \n          components={{\n            ...components,\n            Attachment: components?.Attachment ?? Attachment,\n          }}\n        />\n      </UserMessageAttachmentsContainer>\n    </MessagePrimitive.If>\n  );\n};\n\nconst exports = {\n  Root: UserMessageRoot,\n  Content: UserMessageContent,\n  Attachments: UserMessageAttachments,\n};\n\nexport default Object.assign(UserMessage, exports) as typeof UserMessage &\n  typeof exports;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,mBAA8D;AAE9D,2BAAyB;AACzB,0BAA6B;AAC7B,6BAA0B;AAC1B,0BAAwB;AACxB,wBAAiC;AACjC,wBAAuB;AAKjB;AAHN,IAAM,cAAkB,MAAM;AAC5B,SACE,6CAAC,mBACC;AAAA,gDAAC,0BAAuB;AAAA,IAExB,6CAAC,mCAAiB,IAAjB,EAAoB,YAAU,MAC7B;AAAA,kDAAC,uBAAAA,SAAA,EAAc;AAAA,MACf,4CAAC,sBAAmB;AAAA,OACtB;AAAA,IACA,4CAAC,qBAAAC,SAAA,EAAa;AAAA,KAChB;AAEJ;AAEA,YAAY,cAAc;AAE1B,IAAM,sBAAkB,kCAAa,mCAAiB,MAAM;AAAA,EAC1D,WAAW;AACb,CAAC;AAED,gBAAgB,cAAc;AAE9B,IAAM,gCAA4B,kCAAa,OAAO;AAAA,EACpD,WAAW;AACb,CAAC;AAaD,IAAM,yBAAqB,yBAGzB,CAAC,EAAE,YAAY,GAAG,MAAM,GAAG,QAAQ;AACnC,SACE,4CAAC,6BAA2B,GAAG,OAAO,KACpC;AAAA,IAAC,mCAAiB;AAAA,IAAjB;AAAA,MACC,YAAY;AAAA,QACV,GAAG;AAAA,QACH,MAAM,YAAY,QAAQ,oBAAAC,QAAY;AAAA,MACxC;AAAA;AAAA,EACF,GACF;AAEJ,CAAC;AAED,mBAAmB,cAAc;AAEjC,IAAM,sCAAkC,kCAAa,OAAO;AAAA,EAC1D,WAAW;AACb,CAAC;AAWD,IAAM,yBAA0D,CAAC;AAAA,EAC/D;AACF,MAAM;AACJ,SACE,4CAAC,mCAAiB,IAAjB,EAAoB,gBAAc,MACjC,sDAAC,mCACC;AAAA,IAAC,mCAAiB;AAAA,IAAjB;AAAA,MACC,YAAY;AAAA,QACV,GAAG;AAAA,QACH,YAAY,YAAY,cAAc,kBAAAC;AAAA,MACxC;AAAA;AAAA,EACF,GACF,GACF;AAEJ;AAEA,IAAMC,WAAU;AAAA,EACd,MAAM;AAAA,EACN,SAAS;AAAA,EACT,aAAa;AACf;AAEA,IAAO,uBAAQ,OAAO,OAAO,aAAaA,QAAO;","names":["UserActionBar","BranchPicker","ContentPart","Attachment","exports"]}