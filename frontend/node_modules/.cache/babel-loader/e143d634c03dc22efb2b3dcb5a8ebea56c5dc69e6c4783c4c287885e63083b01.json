{"ast":null,"code":"var _jsxFileName = \"/workspace/frontend/src/App.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { streamChatResponse } from './lib/transport';\nimport { storage } from './utils/storage';\nimport { Sidebar } from './components/Sidebar';\nimport { cn } from './lib/utils';\nimport { Send, StopCircle } from 'lucide-react';\nimport './App.css';\n\n// Simple message component\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst MessageBubble = ({\n  message,\n  isStreaming\n}) => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: cn(\"flex w-full\", message.role === 'user' ? 'justify-end' : 'justify-start'),\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: cn(\"max-w-[80%] rounded-lg px-4 py-2 mb-4\", message.role === 'user' ? 'bg-blue-600 text-white ml-12' : 'bg-gray-100 text-gray-900 mr-12'),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"prose prose-sm max-w-none dark:prose-invert\",\n        children: [message.content, isStreaming && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"animate-pulse\",\n          children: \"|\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 27\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 16,\n    columnNumber: 5\n  }, this);\n};\n\n// Simple composer component\n_c = MessageBubble;\nconst MessageComposer = ({\n  onSend,\n  disabled,\n  placeholder = \"Type your message...\"\n}) => {\n  _s();\n  const [input, setInput] = useState('');\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (input.trim() && !disabled) {\n      onSend(input.trim());\n      setInput('');\n    }\n  };\n  const handleKeyDown = e => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSubmit(e);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"flex gap-2\",\n    children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n      value: input,\n      onChange: e => setInput(e.target.value),\n      onKeyDown: handleKeyDown,\n      placeholder: placeholder,\n      disabled: disabled,\n      className: \"flex-1 min-h-[60px] max-h-[200px] resize-none border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50\",\n      rows: 2\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      disabled: !input.trim() || disabled,\n      className: \"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2\",\n      children: [/*#__PURE__*/_jsxDEV(Send, {\n        size: 16\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), \"Send\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n};\n_s(MessageComposer, \"WVveI0ACa0LqOSOlGzu58xcz+KE=\");\n_c2 = MessageComposer;\nfunction App() {\n  _s2();\n  const [sessions, setSessions] = useState([]);\n  const [currentSessionId, setCurrentSessionId] = useState(null);\n  const [sidebarCollapsed, setSidebarCollapsed] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [streamingMessage, setStreamingMessage] = useState(null);\n  const messagesEndRef = useRef(null);\n  const abortControllerRef = useRef(null);\n\n  // Load sessions from localStorage on mount\n  useEffect(() => {\n    const savedSessions = storage.getSessions();\n    setSessions(savedSessions);\n    const savedCurrentSession = storage.getCurrentSessionId();\n    if (savedCurrentSession && savedSessions.find(s => s.id === savedCurrentSession)) {\n      setCurrentSessionId(savedCurrentSession);\n    }\n  }, []);\n\n  // Auto-scroll to bottom when messages change\n  useEffect(() => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  }, [currentSession === null || currentSession === void 0 ? void 0 : currentSession.messages, streamingMessage]);\n  const currentSession = sessions.find(s => s.id === currentSessionId);\n  const handleNewSession = () => {\n    const session = storage.createSession(`Chat ${sessions.length + 1}`);\n    setSessions([session, ...sessions]);\n    setCurrentSessionId(session.id);\n    storage.setCurrentSessionId(session.id);\n  };\n  const handleSelectSession = sessionId => {\n    // Cancel any ongoing requests when switching sessions\n    if (abortControllerRef.current) {\n      abortControllerRef.current.abort();\n    }\n    setCurrentSessionId(sessionId);\n    storage.setCurrentSessionId(sessionId);\n    setStreamingMessage(null);\n    setIsLoading(false);\n  };\n  const handleDeleteSession = sessionId => {\n    storage.deleteSession(sessionId);\n    const updatedSessions = sessions.filter(s => s.id !== sessionId);\n    setSessions(updatedSessions);\n    if (currentSessionId === sessionId) {\n      const nextSession = updatedSessions[0];\n      if (nextSession) {\n        setCurrentSessionId(nextSession.id);\n        storage.setCurrentSessionId(nextSession.id);\n      } else {\n        setCurrentSessionId(null);\n        storage.setCurrentSessionId(null);\n      }\n    }\n  };\n  const handleRenameSession = (sessionId, newName) => {\n    storage.updateSession(sessionId, {\n      name: newName\n    });\n    setSessions(sessions.map(s => s.id === sessionId ? {\n      ...s,\n      name: newName\n    } : s));\n  };\n  const handleSendMessage = async content => {\n    if (isLoading) return;\n\n    // Create session if none exists\n    let sessionId = currentSessionId;\n    if (!sessionId) {\n      const newSession = storage.createSession('New Chat');\n      setSessions([newSession, ...sessions]);\n      setCurrentSessionId(newSession.id);\n      storage.setCurrentSessionId(newSession.id);\n      sessionId = newSession.id;\n    }\n\n    // Create user message\n    const userMessage = {\n      id: crypto.randomUUID(),\n      role: 'user',\n      content,\n      timestamp: new Date().toISOString()\n    };\n\n    // Add user message to storage and state\n    storage.addMessage(sessionId, userMessage);\n    setSessions(prev => prev.map(s => s.id === sessionId ? {\n      ...s,\n      messages: [...s.messages, userMessage]\n    } : s));\n\n    // Prepare streaming assistant message\n    const assistantMessage = {\n      id: crypto.randomUUID(),\n      role: 'assistant',\n      content: '',\n      timestamp: new Date().toISOString()\n    };\n    setStreamingMessage(assistantMessage);\n    setIsLoading(true);\n\n    // Cancel any existing request\n    if (abortControllerRef.current) {\n      abortControllerRef.current.abort();\n    }\n    abortControllerRef.current = new AbortController();\n    try {\n      // Get all messages for context\n      const session = storage.getSession(sessionId);\n      if (!session) return;\n      const allMessages = [...session.messages, userMessage];\n\n      // Convert to the format expected by streamChatResponse\n      const coreMessages = allMessages.map(msg => ({\n        role: msg.role,\n        content: msg.content\n      }));\n      await streamChatResponse(coreMessages, content => {\n        setStreamingMessage(prev => prev ? {\n          ...prev,\n          content\n        } : null);\n      }, abortControllerRef.current.signal);\n\n      // Finalize the assistant message\n      if (streamingMessage) {\n        const finalMessage = {\n          ...assistantMessage,\n          content: streamingMessage.content\n        };\n        storage.addMessage(sessionId, finalMessage);\n        setSessions(prev => prev.map(s => s.id === sessionId ? {\n          ...s,\n          messages: [...s.messages, finalMessage]\n        } : s));\n      }\n    } catch (error) {\n      if (error.name !== 'AbortError') {\n        console.error('Error sending message:', error);\n      }\n    } finally {\n      setStreamingMessage(null);\n      setIsLoading(false);\n      abortControllerRef.current = null;\n    }\n  };\n  const handleStopGeneration = () => {\n    if (abortControllerRef.current) {\n      abortControllerRef.current.abort();\n      setIsLoading(false);\n      setStreamingMessage(null);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    children: [/*#__PURE__*/_jsxDEV(Sidebar, {\n      sessions: sessions,\n      currentSessionId: currentSessionId,\n      onSelectSession: handleSelectSession,\n      onNewSession: handleNewSession,\n      onDeleteSession: handleDeleteSession,\n      onRenameSession: handleRenameSession,\n      isCollapsed: sidebarCollapsed,\n      onToggleCollapse: () => setSidebarCollapsed(!sidebarCollapsed)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-2xl font-bold\",\n          children: \"Chat Agent\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 11\n        }, this), currentSession && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-lg font-medium\",\n            children: currentSession.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm text-gray-600\",\n            children: [currentSession.messages.length, \" messages\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 32\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 flex flex-col\",\n        children: !currentSession ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1 flex items-center justify-center\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center space-y-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-3xl font-bold\",\n              children: \"Welcome to Chat Agent\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-600\",\n              children: \"Start a new conversation to begin chatting with the AI agent.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\",\n              onClick: handleNewSession,\n              children: \"Start New Chat\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1 overflow-y-auto p-4\",\n            children: [currentSession.messages.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center text-gray-600 py-8\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Hello! I'm your AI assistant. How can I help you today?\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 295,\n                columnNumber: 22\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 20\n            }, this), currentSession.messages.map(message => /*#__PURE__*/_jsxDEV(MessageBubble, {\n              message: message\n            }, message.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 19\n            }, this)), streamingMessage && /*#__PURE__*/_jsxDEV(MessageBubble, {\n              message: streamingMessage,\n              isStreaming: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 304,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              ref: messagesEndRef\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border-t p-4\",\n            children: [/*#__PURE__*/_jsxDEV(MessageComposer, {\n              onSend: handleSendMessage,\n              disabled: isLoading,\n              placeholder: isLoading ? \"AI is thinking...\" : \"Type your message...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 17\n            }, this), isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-center mt-2\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleStopGeneration,\n                className: \"px-3 py-1 text-sm bg-red-500 text-white rounded hover:bg-red-600 transition-colors flex items-center gap-1\",\n                children: [/*#__PURE__*/_jsxDEV(StopCircle, {\n                  size: 14\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 323,\n                  columnNumber: 24\n                }, this), \"Stop Generation\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 319,\n                columnNumber: 42\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 318,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 249,\n    columnNumber: 5\n  }, this);\n}\n_s2(App, \"Wu37c/mOR+dqfQKUsH5N1S7LPTI=\");\n_c3 = App;\nexport default App;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"MessageBubble\");\n$RefreshReg$(_c2, \"MessageComposer\");\n$RefreshReg$(_c3, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","streamChatResponse","storage","Sidebar","cn","Send","StopCircle","jsxDEV","_jsxDEV","Fragment","_Fragment","MessageBubble","message","isStreaming","className","role","children","content","fileName","_jsxFileName","lineNumber","columnNumber","_c","MessageComposer","onSend","disabled","placeholder","_s","input","setInput","handleSubmit","e","preventDefault","trim","handleKeyDown","key","shiftKey","onSubmit","value","onChange","target","onKeyDown","rows","type","size","_c2","App","_s2","sessions","setSessions","currentSessionId","setCurrentSessionId","sidebarCollapsed","setSidebarCollapsed","isLoading","setIsLoading","streamingMessage","setStreamingMessage","messagesEndRef","abortControllerRef","savedSessions","getSessions","savedCurrentSession","getCurrentSessionId","find","s","id","_messagesEndRef$curre","current","scrollIntoView","behavior","currentSession","messages","handleNewSession","session","createSession","length","handleSelectSession","sessionId","abort","handleDeleteSession","deleteSession","updatedSessions","filter","nextSession","handleRenameSession","newName","updateSession","name","map","handleSendMessage","newSession","userMessage","crypto","randomUUID","timestamp","Date","toISOString","addMessage","prev","assistantMessage","AbortController","getSession","allMessages","coreMessages","msg","signal","finalMessage","error","console","handleStopGeneration","onSelectSession","onNewSession","onDeleteSession","onRenameSession","isCollapsed","onToggleCollapse","onClick","ref","_c3","$RefreshReg$"],"sources":["/workspace/frontend/src/App.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { ChatSession } from './types';\nimport { ChatMessage, streamChatResponse } from './lib/transport';\nimport { storage } from './utils/storage';\nimport { Sidebar } from './components/Sidebar';\nimport { cn } from './lib/utils';\nimport { Send, StopCircle } from 'lucide-react';\nimport './App.css';\n\n// Simple message component\nconst MessageBubble: React.FC<{ message: ChatMessage; isStreaming?: boolean }> = ({ \n  message, \n  isStreaming \n}) => {\n  return (\n    <div className={cn(\n      \"flex w-full\",\n      message.role === 'user' ? 'justify-end' : 'justify-start'\n    )}>\n      <div className={cn(\n        \"max-w-[80%] rounded-lg px-4 py-2 mb-4\",\n        message.role === 'user' \n          ? 'bg-blue-600 text-white ml-12' \n          : 'bg-gray-100 text-gray-900 mr-12'\n      )}>\n        <div className=\"prose prose-sm max-w-none dark:prose-invert\">\n          {message.content}\n          {isStreaming && <span className=\"animate-pulse\">|</span>}\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// Simple composer component\nconst MessageComposer: React.FC<{\n  onSend: (message: string) => void;\n  disabled?: boolean;\n  placeholder?: string;\n}> = ({ onSend, disabled, placeholder = \"Type your message...\" }) => {\n  const [input, setInput] = useState('');\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    if (input.trim() && !disabled) {\n      onSend(input.trim());\n      setInput('');\n    }\n  };\n\n  const handleKeyDown = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSubmit(e);\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className=\"flex gap-2\">\n      <textarea\n        value={input}\n        onChange={(e) => setInput(e.target.value)}\n        onKeyDown={handleKeyDown}\n        placeholder={placeholder}\n        disabled={disabled}\n        className=\"flex-1 min-h-[60px] max-h-[200px] resize-none border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50\"\n        rows={2}\n      />\n      <button\n        type=\"submit\"\n        disabled={!input.trim() || disabled}\n        className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2\"\n      >\n        <Send size={16} />\n        Send\n      </button>\n    </form>\n  );\n};\n\nfunction App() {\n  const [sessions, setSessions] = useState<ChatSession[]>([]);\n  const [currentSessionId, setCurrentSessionId] = useState<string | null>(null);\n  const [sidebarCollapsed, setSidebarCollapsed] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [streamingMessage, setStreamingMessage] = useState<ChatMessage | null>(null);\n\n  const messagesEndRef = useRef<HTMLDivElement>(null);\n  const abortControllerRef = useRef<AbortController | null>(null);\n\n  // Load sessions from localStorage on mount\n  useEffect(() => {\n    const savedSessions = storage.getSessions();\n    setSessions(savedSessions);\n    \n    const savedCurrentSession = storage.getCurrentSessionId();\n    if (savedCurrentSession && savedSessions.find(s => s.id === savedCurrentSession)) {\n      setCurrentSessionId(savedCurrentSession);\n    }\n  }, []);\n\n  // Auto-scroll to bottom when messages change\n  useEffect(() => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  }, [currentSession?.messages, streamingMessage]);\n\n  const currentSession = sessions.find(s => s.id === currentSessionId);\n\n  const handleNewSession = () => {\n    const session = storage.createSession(`Chat ${sessions.length + 1}`);\n    setSessions([session, ...sessions]);\n    setCurrentSessionId(session.id);\n    storage.setCurrentSessionId(session.id);\n  };\n\n  const handleSelectSession = (sessionId: string) => {\n    // Cancel any ongoing requests when switching sessions\n    if (abortControllerRef.current) {\n      abortControllerRef.current.abort();\n    }\n    setCurrentSessionId(sessionId);\n    storage.setCurrentSessionId(sessionId);\n    setStreamingMessage(null);\n    setIsLoading(false);\n  };\n\n  const handleDeleteSession = (sessionId: string) => {\n    storage.deleteSession(sessionId);\n    const updatedSessions = sessions.filter(s => s.id !== sessionId);\n    setSessions(updatedSessions);\n    \n    if (currentSessionId === sessionId) {\n      const nextSession = updatedSessions[0];\n      if (nextSession) {\n        setCurrentSessionId(nextSession.id);\n        storage.setCurrentSessionId(nextSession.id);\n      } else {\n        setCurrentSessionId(null);\n        storage.setCurrentSessionId(null);\n      }\n    }\n  };\n\n  const handleRenameSession = (sessionId: string, newName: string) => {\n    storage.updateSession(sessionId, { name: newName });\n    setSessions(sessions.map(s => \n      s.id === sessionId ? { ...s, name: newName } : s\n    ));\n  };\n\n  const handleSendMessage = async (content: string) => {\n    if (isLoading) return;\n\n    // Create session if none exists\n    let sessionId = currentSessionId;\n    if (!sessionId) {\n      const newSession = storage.createSession('New Chat');\n      setSessions([newSession, ...sessions]);\n      setCurrentSessionId(newSession.id);\n      storage.setCurrentSessionId(newSession.id);\n      sessionId = newSession.id;\n    }\n\n    // Create user message\n    const userMessage: ChatMessage = {\n      id: crypto.randomUUID(),\n      role: 'user',\n      content,\n      timestamp: new Date().toISOString(),\n    };\n\n    // Add user message to storage and state\n    storage.addMessage(sessionId, userMessage);\n    setSessions(prev => prev.map(s => \n      s.id === sessionId \n        ? { ...s, messages: [...s.messages, userMessage] }\n        : s\n    ));\n\n    // Prepare streaming assistant message\n    const assistantMessage: ChatMessage = {\n      id: crypto.randomUUID(),\n      role: 'assistant',\n      content: '',\n      timestamp: new Date().toISOString(),\n    };\n\n    setStreamingMessage(assistantMessage);\n    setIsLoading(true);\n\n    // Cancel any existing request\n    if (abortControllerRef.current) {\n      abortControllerRef.current.abort();\n    }\n    abortControllerRef.current = new AbortController();\n\n    try {\n      // Get all messages for context\n      const session = storage.getSession(sessionId);\n      if (!session) return;\n\n      const allMessages = [...session.messages, userMessage];\n\n      // Convert to the format expected by streamChatResponse\n      const coreMessages = allMessages.map(msg => ({\n        role: msg.role as 'user' | 'assistant' | 'system',\n        content: msg.content,\n      }));\n\n      await streamChatResponse(\n        coreMessages,\n        (content) => {\n          setStreamingMessage(prev => prev ? { ...prev, content } : null);\n        },\n        abortControllerRef.current.signal\n      );\n\n      // Finalize the assistant message\n      if (streamingMessage) {\n        const finalMessage = { ...assistantMessage, content: streamingMessage.content };\n        storage.addMessage(sessionId, finalMessage);\n        setSessions(prev => prev.map(s => \n          s.id === sessionId \n            ? { ...s, messages: [...s.messages, finalMessage] }\n            : s\n        ));\n      }\n\n    } catch (error: any) {\n      if (error.name !== 'AbortError') {\n        console.error('Error sending message:', error);\n      }\n    } finally {\n      setStreamingMessage(null);\n      setIsLoading(false);\n      abortControllerRef.current = null;\n    }\n  };\n\n  const handleStopGeneration = () => {\n    if (abortControllerRef.current) {\n      abortControllerRef.current.abort();\n      setIsLoading(false);\n      setStreamingMessage(null);\n    }\n  };\n\n  return (\n    <div className=\"app\">\n      <Sidebar\n        sessions={sessions}\n        currentSessionId={currentSessionId}\n        onSelectSession={handleSelectSession}\n        onNewSession={handleNewSession}\n        onDeleteSession={handleDeleteSession}\n        onRenameSession={handleRenameSession}\n        isCollapsed={sidebarCollapsed}\n        onToggleCollapse={() => setSidebarCollapsed(!sidebarCollapsed)}\n      />\n\n      <div className=\"main-content\">\n        <div className=\"chat-header\">\n          <h1 className=\"text-2xl font-bold\">Chat Agent</h1>\n          {currentSession && (\n            <div className=\"flex items-center gap-4\">\n              <span className=\"text-lg font-medium\">{currentSession.name}</span>\n                               <span className=\"text-sm text-gray-600\">\n                   {currentSession.messages.length} messages\n                 </span>\n            </div>\n          )}\n        </div>\n\n        <div className=\"flex-1 flex flex-col\">\n          {!currentSession ? (\n            <div className=\"flex-1 flex items-center justify-center\">\n              <div className=\"text-center space-y-4\">\n                <h2 className=\"text-3xl font-bold\">Welcome to Chat Agent</h2>\n                <p className=\"text-gray-600\">\n                  Start a new conversation to begin chatting with the AI agent.\n                </p>\n                <button \n                  className=\"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\n                  onClick={handleNewSession}\n                >\n                  Start New Chat\n                </button>\n              </div>\n            </div>\n          ) : (\n            <>\n              <div className=\"flex-1 overflow-y-auto p-4\">\n                                 {currentSession.messages.length === 0 && (\n                   <div className=\"text-center text-gray-600 py-8\">\n                     <p>Hello! I'm your AI assistant. How can I help you today?</p>\n                   </div>\n                 )}\n                \n                {currentSession.messages.map((message) => (\n                  <MessageBubble key={message.id} message={message} />\n                ))}\n\n                {streamingMessage && (\n                  <MessageBubble message={streamingMessage} isStreaming={true} />\n                )}\n\n                <div ref={messagesEndRef} />\n              </div>\n              \n              <div className=\"border-t p-4\">\n                <MessageComposer\n                  onSend={handleSendMessage}\n                  disabled={isLoading}\n                  placeholder={isLoading ? \"AI is thinking...\" : \"Type your message...\"}\n                />\n                \n                {isLoading && (\n                  <div className=\"flex justify-center mt-2\">\n                                         <button\n                       onClick={handleStopGeneration}\n                       className=\"px-3 py-1 text-sm bg-red-500 text-white rounded hover:bg-red-600 transition-colors flex items-center gap-1\"\n                     >\n                       <StopCircle size={14} />\n                       Stop Generation\n                     </button>\n                  </div>\n                )}\n              </div>\n            </>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;"],"mappings":";;;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAE1D,SAAsBC,kBAAkB,QAAQ,iBAAiB;AACjE,SAASC,OAAO,QAAQ,iBAAiB;AACzC,SAASC,OAAO,QAAQ,sBAAsB;AAC9C,SAASC,EAAE,QAAQ,aAAa;AAChC,SAASC,IAAI,EAAEC,UAAU,QAAQ,cAAc;AAC/C,OAAO,WAAW;;AAElB;AAAA,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AACA,MAAMC,aAAwE,GAAGA,CAAC;EAChFC,OAAO;EACPC;AACF,CAAC,KAAK;EACJ,oBACEL,OAAA;IAAKM,SAAS,EAAEV,EAAE,CAChB,aAAa,EACbQ,OAAO,CAACG,IAAI,KAAK,MAAM,GAAG,aAAa,GAAG,eAC5C,CAAE;IAAAC,QAAA,eACAR,OAAA;MAAKM,SAAS,EAAEV,EAAE,CAChB,uCAAuC,EACvCQ,OAAO,CAACG,IAAI,KAAK,MAAM,GACnB,8BAA8B,GAC9B,iCACN,CAAE;MAAAC,QAAA,eACAR,OAAA;QAAKM,SAAS,EAAC,6CAA6C;QAAAE,QAAA,GACzDJ,OAAO,CAACK,OAAO,EACfJ,WAAW,iBAAIL,OAAA;UAAMM,SAAS,EAAC,eAAe;UAAAE,QAAA,EAAC;QAAC;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACrD;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;;AAED;AAAAC,EAAA,GAxBMX,aAAwE;AAyB9E,MAAMY,eAIJ,GAAGA,CAAC;EAAEC,MAAM;EAAEC,QAAQ;EAAEC,WAAW,GAAG;AAAuB,CAAC,KAAK;EAAAC,EAAA;EACnE,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAG/B,QAAQ,CAAC,EAAE,CAAC;EAEtC,MAAMgC,YAAY,GAAIC,CAAkB,IAAK;IAC3CA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClB,IAAIJ,KAAK,CAACK,IAAI,CAAC,CAAC,IAAI,CAACR,QAAQ,EAAE;MAC7BD,MAAM,CAACI,KAAK,CAACK,IAAI,CAAC,CAAC,CAAC;MACpBJ,QAAQ,CAAC,EAAE,CAAC;IACd;EACF,CAAC;EAED,MAAMK,aAAa,GAAIH,CAAsB,IAAK;IAChD,IAAIA,CAAC,CAACI,GAAG,KAAK,OAAO,IAAI,CAACJ,CAAC,CAACK,QAAQ,EAAE;MACpCL,CAAC,CAACC,cAAc,CAAC,CAAC;MAClBF,YAAY,CAACC,CAAC,CAAC;IACjB;EACF,CAAC;EAED,oBACEvB,OAAA;IAAM6B,QAAQ,EAAEP,YAAa;IAAChB,SAAS,EAAC,YAAY;IAAAE,QAAA,gBAClDR,OAAA;MACE8B,KAAK,EAAEV,KAAM;MACbW,QAAQ,EAAGR,CAAC,IAAKF,QAAQ,CAACE,CAAC,CAACS,MAAM,CAACF,KAAK,CAAE;MAC1CG,SAAS,EAAEP,aAAc;MACzBR,WAAW,EAAEA,WAAY;MACzBD,QAAQ,EAAEA,QAAS;MACnBX,SAAS,EAAC,oMAAoM;MAC9M4B,IAAI,EAAE;IAAE;MAAAxB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACT,CAAC,eACFb,OAAA;MACEmC,IAAI,EAAC,QAAQ;MACblB,QAAQ,EAAE,CAACG,KAAK,CAACK,IAAI,CAAC,CAAC,IAAIR,QAAS;MACpCX,SAAS,EAAC,yJAAyJ;MAAAE,QAAA,gBAEnKR,OAAA,CAACH,IAAI;QAACuC,IAAI,EAAE;MAAG;QAAA1B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,QAEpB;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACL,CAAC;AAEX,CAAC;AAACM,EAAA,CA3CIJ,eAIJ;AAAAsB,GAAA,GAJItB,eAIJ;AAyCF,SAASuB,GAAGA,CAAA,EAAG;EAAAC,GAAA;EACb,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGnD,QAAQ,CAAgB,EAAE,CAAC;EAC3D,MAAM,CAACoD,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGrD,QAAQ,CAAgB,IAAI,CAAC;EAC7E,MAAM,CAACsD,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGvD,QAAQ,CAAC,KAAK,CAAC;EAC/D,MAAM,CAACwD,SAAS,EAAEC,YAAY,CAAC,GAAGzD,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAAC0D,gBAAgB,EAAEC,mBAAmB,CAAC,GAAG3D,QAAQ,CAAqB,IAAI,CAAC;EAElF,MAAM4D,cAAc,GAAG1D,MAAM,CAAiB,IAAI,CAAC;EACnD,MAAM2D,kBAAkB,GAAG3D,MAAM,CAAyB,IAAI,CAAC;;EAE/D;EACAD,SAAS,CAAC,MAAM;IACd,MAAM6D,aAAa,GAAG1D,OAAO,CAAC2D,WAAW,CAAC,CAAC;IAC3CZ,WAAW,CAACW,aAAa,CAAC;IAE1B,MAAME,mBAAmB,GAAG5D,OAAO,CAAC6D,mBAAmB,CAAC,CAAC;IACzD,IAAID,mBAAmB,IAAIF,aAAa,CAACI,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACC,EAAE,KAAKJ,mBAAmB,CAAC,EAAE;MAChFX,mBAAmB,CAACW,mBAAmB,CAAC;IAC1C;EACF,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA/D,SAAS,CAAC,MAAM;IAAA,IAAAoE,qBAAA;IACd,CAAAA,qBAAA,GAAAT,cAAc,CAACU,OAAO,cAAAD,qBAAA,uBAAtBA,qBAAA,CAAwBE,cAAc,CAAC;MAAEC,QAAQ,EAAE;IAAS,CAAC,CAAC;EAChE,CAAC,EAAE,CAACC,cAAc,aAAdA,cAAc,uBAAdA,cAAc,CAAEC,QAAQ,EAAEhB,gBAAgB,CAAC,CAAC;EAEhD,MAAMe,cAAc,GAAGvB,QAAQ,CAACgB,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACC,EAAE,KAAKhB,gBAAgB,CAAC;EAEpE,MAAMuB,gBAAgB,GAAGA,CAAA,KAAM;IAC7B,MAAMC,OAAO,GAAGxE,OAAO,CAACyE,aAAa,CAAC,QAAQ3B,QAAQ,CAAC4B,MAAM,GAAG,CAAC,EAAE,CAAC;IACpE3B,WAAW,CAAC,CAACyB,OAAO,EAAE,GAAG1B,QAAQ,CAAC,CAAC;IACnCG,mBAAmB,CAACuB,OAAO,CAACR,EAAE,CAAC;IAC/BhE,OAAO,CAACiD,mBAAmB,CAACuB,OAAO,CAACR,EAAE,CAAC;EACzC,CAAC;EAED,MAAMW,mBAAmB,GAAIC,SAAiB,IAAK;IACjD;IACA,IAAInB,kBAAkB,CAACS,OAAO,EAAE;MAC9BT,kBAAkB,CAACS,OAAO,CAACW,KAAK,CAAC,CAAC;IACpC;IACA5B,mBAAmB,CAAC2B,SAAS,CAAC;IAC9B5E,OAAO,CAACiD,mBAAmB,CAAC2B,SAAS,CAAC;IACtCrB,mBAAmB,CAAC,IAAI,CAAC;IACzBF,YAAY,CAAC,KAAK,CAAC;EACrB,CAAC;EAED,MAAMyB,mBAAmB,GAAIF,SAAiB,IAAK;IACjD5E,OAAO,CAAC+E,aAAa,CAACH,SAAS,CAAC;IAChC,MAAMI,eAAe,GAAGlC,QAAQ,CAACmC,MAAM,CAAClB,CAAC,IAAIA,CAAC,CAACC,EAAE,KAAKY,SAAS,CAAC;IAChE7B,WAAW,CAACiC,eAAe,CAAC;IAE5B,IAAIhC,gBAAgB,KAAK4B,SAAS,EAAE;MAClC,MAAMM,WAAW,GAAGF,eAAe,CAAC,CAAC,CAAC;MACtC,IAAIE,WAAW,EAAE;QACfjC,mBAAmB,CAACiC,WAAW,CAAClB,EAAE,CAAC;QACnChE,OAAO,CAACiD,mBAAmB,CAACiC,WAAW,CAAClB,EAAE,CAAC;MAC7C,CAAC,MAAM;QACLf,mBAAmB,CAAC,IAAI,CAAC;QACzBjD,OAAO,CAACiD,mBAAmB,CAAC,IAAI,CAAC;MACnC;IACF;EACF,CAAC;EAED,MAAMkC,mBAAmB,GAAGA,CAACP,SAAiB,EAAEQ,OAAe,KAAK;IAClEpF,OAAO,CAACqF,aAAa,CAACT,SAAS,EAAE;MAAEU,IAAI,EAAEF;IAAQ,CAAC,CAAC;IACnDrC,WAAW,CAACD,QAAQ,CAACyC,GAAG,CAACxB,CAAC,IACxBA,CAAC,CAACC,EAAE,KAAKY,SAAS,GAAG;MAAE,GAAGb,CAAC;MAAEuB,IAAI,EAAEF;IAAQ,CAAC,GAAGrB,CACjD,CAAC,CAAC;EACJ,CAAC;EAED,MAAMyB,iBAAiB,GAAG,MAAOzE,OAAe,IAAK;IACnD,IAAIqC,SAAS,EAAE;;IAEf;IACA,IAAIwB,SAAS,GAAG5B,gBAAgB;IAChC,IAAI,CAAC4B,SAAS,EAAE;MACd,MAAMa,UAAU,GAAGzF,OAAO,CAACyE,aAAa,CAAC,UAAU,CAAC;MACpD1B,WAAW,CAAC,CAAC0C,UAAU,EAAE,GAAG3C,QAAQ,CAAC,CAAC;MACtCG,mBAAmB,CAACwC,UAAU,CAACzB,EAAE,CAAC;MAClChE,OAAO,CAACiD,mBAAmB,CAACwC,UAAU,CAACzB,EAAE,CAAC;MAC1CY,SAAS,GAAGa,UAAU,CAACzB,EAAE;IAC3B;;IAEA;IACA,MAAM0B,WAAwB,GAAG;MAC/B1B,EAAE,EAAE2B,MAAM,CAACC,UAAU,CAAC,CAAC;MACvB/E,IAAI,EAAE,MAAM;MACZE,OAAO;MACP8E,SAAS,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC;IACpC,CAAC;;IAED;IACA/F,OAAO,CAACgG,UAAU,CAACpB,SAAS,EAAEc,WAAW,CAAC;IAC1C3C,WAAW,CAACkD,IAAI,IAAIA,IAAI,CAACV,GAAG,CAACxB,CAAC,IAC5BA,CAAC,CAACC,EAAE,KAAKY,SAAS,GACd;MAAE,GAAGb,CAAC;MAAEO,QAAQ,EAAE,CAAC,GAAGP,CAAC,CAACO,QAAQ,EAAEoB,WAAW;IAAE,CAAC,GAChD3B,CACN,CAAC,CAAC;;IAEF;IACA,MAAMmC,gBAA6B,GAAG;MACpClC,EAAE,EAAE2B,MAAM,CAACC,UAAU,CAAC,CAAC;MACvB/E,IAAI,EAAE,WAAW;MACjBE,OAAO,EAAE,EAAE;MACX8E,SAAS,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC;IACpC,CAAC;IAEDxC,mBAAmB,CAAC2C,gBAAgB,CAAC;IACrC7C,YAAY,CAAC,IAAI,CAAC;;IAElB;IACA,IAAII,kBAAkB,CAACS,OAAO,EAAE;MAC9BT,kBAAkB,CAACS,OAAO,CAACW,KAAK,CAAC,CAAC;IACpC;IACApB,kBAAkB,CAACS,OAAO,GAAG,IAAIiC,eAAe,CAAC,CAAC;IAElD,IAAI;MACF;MACA,MAAM3B,OAAO,GAAGxE,OAAO,CAACoG,UAAU,CAACxB,SAAS,CAAC;MAC7C,IAAI,CAACJ,OAAO,EAAE;MAEd,MAAM6B,WAAW,GAAG,CAAC,GAAG7B,OAAO,CAACF,QAAQ,EAAEoB,WAAW,CAAC;;MAEtD;MACA,MAAMY,YAAY,GAAGD,WAAW,CAACd,GAAG,CAACgB,GAAG,KAAK;QAC3C1F,IAAI,EAAE0F,GAAG,CAAC1F,IAAuC;QACjDE,OAAO,EAAEwF,GAAG,CAACxF;MACf,CAAC,CAAC,CAAC;MAEH,MAAMhB,kBAAkB,CACtBuG,YAAY,EACXvF,OAAO,IAAK;QACXwC,mBAAmB,CAAC0C,IAAI,IAAIA,IAAI,GAAG;UAAE,GAAGA,IAAI;UAAElF;QAAQ,CAAC,GAAG,IAAI,CAAC;MACjE,CAAC,EACD0C,kBAAkB,CAACS,OAAO,CAACsC,MAC7B,CAAC;;MAED;MACA,IAAIlD,gBAAgB,EAAE;QACpB,MAAMmD,YAAY,GAAG;UAAE,GAAGP,gBAAgB;UAAEnF,OAAO,EAAEuC,gBAAgB,CAACvC;QAAQ,CAAC;QAC/Ef,OAAO,CAACgG,UAAU,CAACpB,SAAS,EAAE6B,YAAY,CAAC;QAC3C1D,WAAW,CAACkD,IAAI,IAAIA,IAAI,CAACV,GAAG,CAACxB,CAAC,IAC5BA,CAAC,CAACC,EAAE,KAAKY,SAAS,GACd;UAAE,GAAGb,CAAC;UAAEO,QAAQ,EAAE,CAAC,GAAGP,CAAC,CAACO,QAAQ,EAAEmC,YAAY;QAAE,CAAC,GACjD1C,CACN,CAAC,CAAC;MACJ;IAEF,CAAC,CAAC,OAAO2C,KAAU,EAAE;MACnB,IAAIA,KAAK,CAACpB,IAAI,KAAK,YAAY,EAAE;QAC/BqB,OAAO,CAACD,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;MAChD;IACF,CAAC,SAAS;MACRnD,mBAAmB,CAAC,IAAI,CAAC;MACzBF,YAAY,CAAC,KAAK,CAAC;MACnBI,kBAAkB,CAACS,OAAO,GAAG,IAAI;IACnC;EACF,CAAC;EAED,MAAM0C,oBAAoB,GAAGA,CAAA,KAAM;IACjC,IAAInD,kBAAkB,CAACS,OAAO,EAAE;MAC9BT,kBAAkB,CAACS,OAAO,CAACW,KAAK,CAAC,CAAC;MAClCxB,YAAY,CAAC,KAAK,CAAC;MACnBE,mBAAmB,CAAC,IAAI,CAAC;IAC3B;EACF,CAAC;EAED,oBACEjD,OAAA;IAAKM,SAAS,EAAC,KAAK;IAAAE,QAAA,gBAClBR,OAAA,CAACL,OAAO;MACN6C,QAAQ,EAAEA,QAAS;MACnBE,gBAAgB,EAAEA,gBAAiB;MACnC6D,eAAe,EAAElC,mBAAoB;MACrCmC,YAAY,EAAEvC,gBAAiB;MAC/BwC,eAAe,EAAEjC,mBAAoB;MACrCkC,eAAe,EAAE7B,mBAAoB;MACrC8B,WAAW,EAAE/D,gBAAiB;MAC9BgE,gBAAgB,EAAEA,CAAA,KAAM/D,mBAAmB,CAAC,CAACD,gBAAgB;IAAE;MAAAlC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAChE,CAAC,eAEFb,OAAA;MAAKM,SAAS,EAAC,cAAc;MAAAE,QAAA,gBAC3BR,OAAA;QAAKM,SAAS,EAAC,aAAa;QAAAE,QAAA,gBAC1BR,OAAA;UAAIM,SAAS,EAAC,oBAAoB;UAAAE,QAAA,EAAC;QAAU;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,EACjDkD,cAAc,iBACb/D,OAAA;UAAKM,SAAS,EAAC,yBAAyB;UAAAE,QAAA,gBACtCR,OAAA;YAAMM,SAAS,EAAC,qBAAqB;YAAAE,QAAA,EAAEuD,cAAc,CAACiB;UAAI;YAAAtE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACjDb,OAAA;YAAMM,SAAS,EAAC,uBAAuB;YAAAE,QAAA,GAClDuD,cAAc,CAACC,QAAQ,CAACI,MAAM,EAAC,WAClC;UAAA;YAAA1D,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACP,CACN;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,eAENb,OAAA;QAAKM,SAAS,EAAC,sBAAsB;QAAAE,QAAA,EAClC,CAACuD,cAAc,gBACd/D,OAAA;UAAKM,SAAS,EAAC,yCAAyC;UAAAE,QAAA,eACtDR,OAAA;YAAKM,SAAS,EAAC,uBAAuB;YAAAE,QAAA,gBACpCR,OAAA;cAAIM,SAAS,EAAC,oBAAoB;cAAAE,QAAA,EAAC;YAAqB;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAC7Db,OAAA;cAAGM,SAAS,EAAC,eAAe;cAAAE,QAAA,EAAC;YAE7B;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG,CAAC,eACJb,OAAA;cACEM,SAAS,EAAC,iFAAiF;cAC3FuG,OAAO,EAAE5C,gBAAiB;cAAAzD,QAAA,EAC3B;YAED;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,gBAENb,OAAA,CAAAE,SAAA;UAAAM,QAAA,gBACER,OAAA;YAAKM,SAAS,EAAC,4BAA4B;YAAAE,QAAA,GACvBuD,cAAc,CAACC,QAAQ,CAACI,MAAM,KAAK,CAAC,iBACnDpE,OAAA;cAAKM,SAAS,EAAC,gCAAgC;cAAAE,QAAA,eAC7CR,OAAA;gBAAAQ,QAAA,EAAG;cAAuD;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAG;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC3D,CACN,EAEDkD,cAAc,CAACC,QAAQ,CAACiB,GAAG,CAAE7E,OAAO,iBACnCJ,OAAA,CAACG,aAAa;cAAkBC,OAAO,EAAEA;YAAQ,GAA7BA,OAAO,CAACsD,EAAE;cAAAhD,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAqB,CACpD,CAAC,EAEDmC,gBAAgB,iBACfhD,OAAA,CAACG,aAAa;cAACC,OAAO,EAAE4C,gBAAiB;cAAC3C,WAAW,EAAE;YAAK;cAAAK,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAC/D,eAEDb,OAAA;cAAK8G,GAAG,EAAE5D;YAAe;cAAAxC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACzB,CAAC,eAENb,OAAA;YAAKM,SAAS,EAAC,cAAc;YAAAE,QAAA,gBAC3BR,OAAA,CAACe,eAAe;cACdC,MAAM,EAAEkE,iBAAkB;cAC1BjE,QAAQ,EAAE6B,SAAU;cACpB5B,WAAW,EAAE4B,SAAS,GAAG,mBAAmB,GAAG;YAAuB;cAAApC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACvE,CAAC,EAEDiC,SAAS,iBACR9C,OAAA;cAAKM,SAAS,EAAC,0BAA0B;cAAAE,QAAA,eAClBR,OAAA;gBAClB6G,OAAO,EAAEP,oBAAqB;gBAC9BhG,SAAS,EAAC,4GAA4G;gBAAAE,QAAA,gBAEtHR,OAAA,CAACF,UAAU;kBAACsC,IAAI,EAAE;gBAAG;kBAAA1B,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAC,mBAE1B;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACP,CACN;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC;QAAA,eACN;MACH;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAAC0B,GAAA,CA9PQD,GAAG;AAAAyE,GAAA,GAAHzE,GAAG;AAgQZ,eAAeA,GAAG;AAAC,IAAAxB,EAAA,EAAAuB,GAAA,EAAA0E,GAAA;AAAAC,YAAA,CAAAlG,EAAA;AAAAkG,YAAA,CAAA3E,GAAA;AAAA2E,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}