{"ast":null,"code":"var _jsxFileName = \"/workspace/frontend/src/components/Sidebar.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { formatDistanceToNow } from 'date-fns';\nimport './Sidebar.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const Sidebar = ({\n  sessions,\n  currentSessionId,\n  onSelectSession,\n  onNewSession,\n  onDeleteSession,\n  onRenameSession,\n  isCollapsed,\n  onToggleCollapse\n}) => {\n  _s();\n  const [editingSessionId, setEditingSessionId] = useState(null);\n  const [editingName, setEditingName] = useState('');\n  const handleRename = session => {\n    setEditingSessionId(session.id);\n    setEditingName(session.name);\n  };\n  const handleSaveRename = () => {\n    if (editingSessionId && editingName.trim()) {\n      onRenameSession(editingSessionId, editingName.trim());\n    }\n    setEditingSessionId(null);\n    setEditingName('');\n  };\n  const handleCancelRename = () => {\n    setEditingSessionId(null);\n    setEditingName('');\n  };\n  const handleKeyPress = e => {\n    if (e.key === 'Enter') {\n      handleSaveRename();\n    } else if (e.key === 'Escape') {\n      handleCancelRename();\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `sidebar ${isCollapsed ? 'collapsed' : ''}`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sidebar-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"toggle-button\",\n        onClick: onToggleCollapse,\n        title: isCollapsed ? 'Expand sidebar' : 'Collapse sidebar',\n        children: isCollapsed ? '→' : '←'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), !isCollapsed && /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"new-chat-button\",\n        onClick: onNewSession,\n        children: \"+ New Chat\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), !isCollapsed && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sessions-list\",\n      children: sessions.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"empty-state\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No chat sessions yet\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Start a new conversation!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 13\n      }, this) : sessions.map(session => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `session-item ${session.id === currentSessionId ? 'active' : ''}`,\n        onClick: () => onSelectSession(session.id),\n        children: editingSessionId === session.id ? /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: editingName,\n          onChange: e => setEditingName(e.target.value),\n          onBlur: handleSaveRename,\n          onKeyDown: handleKeyPress,\n          className: \"rename-input\",\n          autoFocus: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 19\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"session-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"session-name\",\n              children: session.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"session-meta\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"message-count\",\n                children: [session.messages.length, \" messages\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"last-updated\",\n                children: formatDistanceToNow(new Date(session.updatedAt), {\n                  addSuffix: true\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"session-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"action-button\",\n              onClick: e => {\n                e.stopPropagation();\n                handleRename(session);\n              },\n              title: \"Rename session\",\n              children: \"\\u270F\\uFE0F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"action-button delete\",\n              onClick: e => {\n                e.stopPropagation();\n                if (confirm(`Are you sure you want to delete \"${session.name}\"?`)) {\n                  onDeleteSession(session.id);\n                }\n              },\n              title: \"Delete session\",\n              children: \"\\uD83D\\uDDD1\\uFE0F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true)\n      }, session.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 15\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n};\n_s(Sidebar, \"DNvdKB0rHcEjzohc5N3OG2xVPAw=\");\n_c = Sidebar;\nvar _c;\n$RefreshReg$(_c, \"Sidebar\");","map":{"version":3,"names":["React","useState","formatDistanceToNow","jsxDEV","_jsxDEV","Fragment","_Fragment","Sidebar","sessions","currentSessionId","onSelectSession","onNewSession","onDeleteSession","onRenameSession","isCollapsed","onToggleCollapse","_s","editingSessionId","setEditingSessionId","editingName","setEditingName","handleRename","session","id","name","handleSaveRename","trim","handleCancelRename","handleKeyPress","e","key","className","children","onClick","title","fileName","_jsxFileName","lineNumber","columnNumber","length","map","type","value","onChange","target","onBlur","onKeyDown","autoFocus","messages","Date","updatedAt","addSuffix","stopPropagation","confirm","_c","$RefreshReg$"],"sources":["/workspace/frontend/src/components/Sidebar.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { ChatSession } from '../types';\nimport { formatDistanceToNow } from 'date-fns';\nimport './Sidebar.css';\n\ninterface SidebarProps {\n  sessions: ChatSession[];\n  currentSessionId: string | null;\n  onSelectSession: (sessionId: string) => void;\n  onNewSession: () => void;\n  onDeleteSession: (sessionId: string) => void;\n  onRenameSession: (sessionId: string, newName: string) => void;\n  isCollapsed: boolean;\n  onToggleCollapse: () => void;\n}\n\nexport const Sidebar: React.FC<SidebarProps> = ({\n  sessions,\n  currentSessionId,\n  onSelectSession,\n  onNewSession,\n  onDeleteSession,\n  onRenameSession,\n  isCollapsed,\n  onToggleCollapse,\n}) => {\n  const [editingSessionId, setEditingSessionId] = useState<string | null>(null);\n  const [editingName, setEditingName] = useState('');\n\n  const handleRename = (session: ChatSession) => {\n    setEditingSessionId(session.id);\n    setEditingName(session.name);\n  };\n\n  const handleSaveRename = () => {\n    if (editingSessionId && editingName.trim()) {\n      onRenameSession(editingSessionId, editingName.trim());\n    }\n    setEditingSessionId(null);\n    setEditingName('');\n  };\n\n  const handleCancelRename = () => {\n    setEditingSessionId(null);\n    setEditingName('');\n  };\n\n  const handleKeyPress = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter') {\n      handleSaveRename();\n    } else if (e.key === 'Escape') {\n      handleCancelRename();\n    }\n  };\n\n  return (\n    <div className={`sidebar ${isCollapsed ? 'collapsed' : ''}`}>\n      <div className=\"sidebar-header\">\n        <button\n          className=\"toggle-button\"\n          onClick={onToggleCollapse}\n          title={isCollapsed ? 'Expand sidebar' : 'Collapse sidebar'}\n        >\n          {isCollapsed ? '→' : '←'}\n        </button>\n        {!isCollapsed && (\n          <button className=\"new-chat-button\" onClick={onNewSession}>\n            + New Chat\n          </button>\n        )}\n      </div>\n\n      {!isCollapsed && (\n        <div className=\"sessions-list\">\n          {sessions.length === 0 ? (\n            <div className=\"empty-state\">\n              <p>No chat sessions yet</p>\n              <p>Start a new conversation!</p>\n            </div>\n          ) : (\n            sessions.map((session) => (\n              <div\n                key={session.id}\n                className={`session-item ${\n                  session.id === currentSessionId ? 'active' : ''\n                }`}\n                onClick={() => onSelectSession(session.id)}\n              >\n                {editingSessionId === session.id ? (\n                  <input\n                    type=\"text\"\n                    value={editingName}\n                    onChange={(e) => setEditingName(e.target.value)}\n                    onBlur={handleSaveRename}\n                    onKeyDown={handleKeyPress}\n                    className=\"rename-input\"\n                    autoFocus\n                  />\n                ) : (\n                  <>\n                    <div className=\"session-content\">\n                      <div className=\"session-name\">{session.name}</div>\n                      <div className=\"session-meta\">\n                        <span className=\"message-count\">\n                          {session.messages.length} messages\n                        </span>\n                        <span className=\"last-updated\">\n                          {formatDistanceToNow(new Date(session.updatedAt), {\n                            addSuffix: true,\n                          })}\n                        </span>\n                      </div>\n                    </div>\n                    <div className=\"session-actions\">\n                      <button\n                        className=\"action-button\"\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          handleRename(session);\n                        }}\n                        title=\"Rename session\"\n                      >\n                        ✏️\n                      </button>\n                      <button\n                        className=\"action-button delete\"\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          if (\n                            confirm(\n                              `Are you sure you want to delete \"${session.name}\"?`\n                            )\n                          ) {\n                            onDeleteSession(session.id);\n                          }\n                        }}\n                        title=\"Delete session\"\n                      >\n                        🗑️\n                      </button>\n                    </div>\n                  </>\n                )}\n              </div>\n            ))\n          )}\n        </div>\n      )}\n    </div>\n  );\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}